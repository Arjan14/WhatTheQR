<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Maak je eigen QR!</title>
    <link rel="stylesheet" href="../static/stylesheets/make.css">
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
    <script>
            function generateQRCode(value) {
                let formData = new FormData();
                formData.append('data', value);
                fetch('http://localhost:5000/generate_qrcode', {
                    method: 'POST',
                    body: formData
                }).then((res) => {
                    res.body.getReader().read().then((img) => {
                        let imageByteArray = img.value;
                        let stringValue = String.fromCharCode(...imageByteArray);
                        let encodedValue = btoa(stringValue);
                        document.getElementById('qrcode').src = `data:image/png;base64,${encodedValue}`;
                    })
                })
            }
        </script>
</head>
<body>
    <!--Static nav bar-->
    <div class="Navbar">
        <ul>
            <li><a href="/"><img src="../static/images/navlogo.png" alt="Navbar logo" width="55px" lenght="55px"></a></li>
            <div class="vl"></div>
            <li><a href="https://github.com/Arjan14"><img src="../static/images/github.png" alt="GitHub logo" width="32px" lenght="32px"></a></li>
            <li><a href="https://www.linkedin.com/in/arjan-bakema-826267193/"><img src="../static/images/linkedin.png" alt="LinkedIn logo" width="32px" lenght="32px"></a></li>
        </ul>
    </div>

    <!--Create QR code-->
    <div class="create">

    </div>

    <!--Logo inc text-->
    <div class="logotext">
        <img src="../static/images/maakQR.png">
    </div>
    <div class="mainBlock">
            <h3>Een QR-Code is geen simpel plaatje, er zit behoorlijk wat diepte in een QR-Code. Doormiddel van deze website probeer ik jullie wat te leren over QR-Codes. Ook heb je de mogelijkheid om zelf QR-Codes te generenen. QR-Codes die je in het wild vind kan je hier ook uploaden als foto!om zelf QR-Codes te generenen. QR-Codes die je in het wild vind kan je hier ook uploaden als foto!</h3>
        <div>
            <label>Text: </label>
            <input name="qrcode" type="text" onchange="generateQRCode(this.value)"/>
        </div>
        <img id="qrcode"/>
    </div>


    <!--Footer with image and text-->
    <footer class="footerDiv">
        <img src="../static/images/logoSmall2.png" alt="Logo" width="9%">
        <h3>What The QR is mede mogelijk gemaakt door Arjan Bakema</h3>
    </footer>

</body>
</html>